model User {
        id                 String     @id @default(uuid())
        email              String     @unique
        password           String
        role               UserRole   @default(PATIENT)
        needPasswordChange Boolean    @default(true)
        status             UserStatus @default(ACTIVE)
        createdAt          DateTime   @default(now())
        updatedAt          DateTime   @updatedAt
        admin              Admin?
        doctor             Doctor?
        patient            Patient?

        @@map("users")
}

model Admin {
        id            String  @id @default(uuid())
        name          String
        email         String  @unique
        profilePhoto  String?
        contactNumber String
        isDeleted     Boolean @default(false)

        createdAt DateTime @default(now())
        updatedAt DateTime @updatedAt

        user User @relation(fields: [email], references: [email])

        @@map("admins")
}

model Doctor {
        id                  String              @id @default(uuid())
        name                String
        email               String              @unique
        profilePhoto        String?
        contactNumber       String?
        address             String?
        registrationNumber  String?
        gender              Gender?
        appointmentFee      Int
        followUpFee         Int
        qualification       String?
        currentWorkingPlace String?
        isDeleted           Boolean             @default(false)
        about               String?
        patientAttended     Int                 @default(0)
        avgConsultationTime Int                 @default(20)
        institutionName     String?
        averageRating       Float               @default(0.0)
        createdAt           DateTime            @default(now())
        updatedAt           DateTime            @updatedAt
        user                User                @relation(fields: [email], references: [email])
        doctorSchedules     DoctorSchedules[]
        doctorSpecialties   DoctorSpecialties[]
        doctorSymptoms      DoctorSymptoms[]
        appointments        Appointment[]
        prescriptions       Prescription[]
        reviews             Review[]
        doctorExperiences   DoctorExperiences[]

        @@map("doctors")
}

model Patient {
        id            String  @id @default(uuid())
        email         String  @unique
        name          String
        profilePhoto  String?
        contactNumber String?
        address       String?
        isDeleted     Boolean @default(false)

        createdAt DateTime @default(now())
        updatedAt DateTime @updatedAt

        user              User               @relation(fields: [email], references: [email])
        appointments      Appointment[]
        prescriptions     Prescription[]
        reviews           Review[]
        patientHealthData PatientHealthData?
        medicalReports    MedicalReport[]

        @@map("patients")
}
