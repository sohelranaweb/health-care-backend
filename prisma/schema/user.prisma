model User {
        id                 String      @id @default(uuid())
        email              String      @unique
        password           String
        role               UserRole    @default(PATIENT)
        needPasswordChange Boolean     @default(true)
        status             UserStatus  @default(ACTIVE)
        createdAt          DateTime    @default(now())
        updatedAt          DateTime    @updatedAt
        admin              Admin?
        doctor             Doctor?
        patient            Patient?
        superAdmin         SuperAdmin?

        @@map("users")
}

model Admin {
        id            String  @id @default(uuid())
        name          String
        email         String  @unique
        profilePhoto  String?
        contactNumber String
        isDeleted     Boolean @default(false)

        createdAt DateTime @default(now())
        updatedAt DateTime @updatedAt

        user User @relation(fields: [email], references: [email])

        @@map("admins")
}

model SuperAdmin {
        id            String  @id @default(uuid())
        name          String
        email         String  @unique
        profilePhoto  String?
        contactNumber String?
        isDeleted     Boolean @default(false)

        createdAt DateTime @default(now())
        updatedAt DateTime @updatedAt

        user User @relation(fields: [email], references: [email])

        @@map("super_admins")
}

model Doctor {
        id                  String  @id @default(uuid())
        name                String
        email               String  @unique
        profilePhoto        String?
        contactNumber       String?
        address             String?
        registrationNumber  String?
        experience          Int     @default(0)
        gender              Gender?
        appointmentFee      Int?
        followUpFee         Int?
        qualification       String?
        currentWorkingPlace String?
        isDeleted           Boolean @default(false)
        about               String?
        patientAttended     Int     @default(0)
        avgConsultationTime Int     @default(20)

        createdAt         DateTime            @default(now())
        updatedAt         DateTime            @updatedAt
        user              User                @relation(fields: [email], references: [email])
        experienceDetails ExperienceDetails[]

        doctorSpecialties DoctorSpecialties[]
        doctorSymptoms    DoctorSymptoms[]

        @@map("doctors")
}

model Patient {
        id           String  @id @default(uuid())
        email        String  @unique
        name         String
        profilePhoto String?
        address      String?
        isDeleted    Boolean @default(false)

        createdAt DateTime @default(now())
        updatedAt DateTime @updatedAt

        user User @relation(fields: [email], references: [email])

        @@map("patients")
}

model ExperienceDetails {
        id              String  @id @default(uuid())
        InstitutionName String?
        designation     String?
        department      String?
        period          Int?
        startTime       String?
        endTime         String?
        doctor          Doctor  @relation(fields: [doctorId], references: [id])
        doctorId        String
}
